<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>my imaginary dog</title>
<style>
  :root{
    --choco:#6e5647;
    --white:#fff;
    --shadow:0 10px 25px rgba(0,0,0,.08);
    --radius:16px;
  }
  /* ãƒšãƒ¼ã‚¸å…¨ä½“ï¼†ã‚¹ãƒãƒ›æ  */
  body{
    margin:0;
    min-height:100svh;
    display:grid; place-items:center;
    background:#f7f3ff;
    font-family:"Hiragino Sans","Noto Sans JP","Yu Gothic",system-ui,sans-serif;
    color:var(--choco);
  }
  .phone{
    width:min(420px,96vw);
    aspect-ratio:3/4;
    position:relative;
    border:4px solid #bda9ff;
    border-radius:24px;
    overflow:hidden;
    background:#fff;
    box-shadow:0 12px 40px rgba(0,0,0,.12);
  }

  /* ç”»é¢ï¼ˆPDFï¼‹ãƒœã‚¿ãƒ³ï¼‰ */
  .screen{ position:absolute; inset:0; display:none; }
  .screen.active{ display:block; }

  /* PDFã‚’å…¨é¢ã«æ•·ã */
  .bgwrap{ position:absolute; inset:0; z-index:0; }
  .bgdoc{
    width:100%; height:100%;
    border:0;
    pointer-events:none;
  }
  /* ç”»åƒã‚’ä¸­å¤®é…ç½® */
  .bgwrap picture{
    position:absolute;
    inset:0;
    display:flex;
    align-items:center;
    justify-content:center;
  }
  .bgwrap img{
    width:50%;
    height:50%;
    object-fit:contain;
    transform:translateY(-25%);
    cursor:pointer;
    pointer-events:auto;
  }

  /* ã‚¿ãƒƒãƒã‚¨ãƒ•ã‚§ã‚¯ãƒˆ */
  .particle{
    position:absolute;
    font-size:24px;
    pointer-events:none;
    animation:float-up 1.5s ease-out forwards;
    z-index:10;
  }
  @keyframes float-up{
    0%{
      opacity:1;
      transform:translate(-50%,-50%) scale(0.5);
    }
    100%{
      opacity:0;
      transform:translate(-50%,-150px) scale(1.2);
    }
  }

  /* ãƒœã‚¿ãƒ³ç¾¤ï¼ˆèƒŒæ™¯PDFã®ä¸Šï¼‰ */
  .overlay{
    position:absolute; inset:0; z-index:1;
    display:flex; flex-direction:column;
    padding:14px;
  }

  /* å³ä¸Šã®ãƒœã‚¿ãƒ³ç¾¤ */
  .top-buttons{
    display:flex;
    gap:8px;
    justify-content:flex-end;
    margin-bottom:auto;
  }
  .top-buttons a{
    background:var(--white);
    border:0; border-radius:10px;
    padding:8px 12px;
    font-size:13px;
    color:var(--choco);
    text-decoration:none;
    box-shadow:var(--shadow);
    cursor:pointer;
    transition:transform .05s ease;
    white-space:nowrap;
  }
  .top-buttons a:hover{
    background:#fff8e8;
    box-shadow:0 8px 20px rgba(0,0,0,.15);
    transform:translateY(-2px);
  }
  .top-buttons a:active{
    background:#ffedc8;
    transform:translateY(1px) scale(.98);
    box-shadow:0 3px 8px rgba(0,0,0,.1);
  }

  /* ãƒ›ãƒ¼ãƒ ç”»é¢ã®3ãƒœã‚¿ãƒ³ï¼ˆä¸‹ã«å›ºå®šï¼‰ */
  .home-buttons{
    margin-top:auto;
    display:grid;
    gap:12px;
  }
  .home-buttons button{
    background:var(--white);
    border:0; border-radius:14px;
    padding:12px 16px;
    font-size:20px; letter-spacing:.35em;
    color:var(--choco);
    box-shadow:var(--shadow);
    cursor:pointer;
    transition:transform .05s ease;
  }
  .home-buttons button:hover {
    background: #fff8e8;
    box-shadow: 0 8px 20px rgba(0,0,0,.15);
    transform: translateY(-2px);
  }
  .home-buttons button:active{
    background: #ffedc8;
    transform: translateY(1px) scale(.98);
    box-shadow: 0 3px 8px rgba(0,0,0,.1);
  }

  /* å­ç”»é¢ã®å·¦ä¸Šã€Œãƒ›ãƒ¼ãƒ ã¸ã€ */
  .home-icon{
    width:40px; height:40px;
    border-radius:12px;
    background:#fff; box-shadow:var(--shadow);
    display:grid; place-items:center;
    user-select:none; cursor:pointer;
    margin:6px;
    font-weight:700;
  }
  .home-icon:hover {
    background: #fff5e2;
    transform: translateY(-1px);
    box-shadow: 0 6px 12px rgba(0,0,0,.15);
  }
  .home-icon:active{
    transform:translateY(1px);
    box-shadow: 0 3px 6px rgba(0,0,0,.1);
  }

  @media (prefers-reduced-motion: reduce){
    .home-buttons button,
    .top-buttons a,
    .home-icon{ transition:none; }
  }
</style>
</head>
<body>
<main class="phone" id="app">

  <!-- ======= ãƒ›ãƒ¼ãƒ  ======= -->
  <section class="screen active" data-screen="home" aria-label="ãƒ›ãƒ¼ãƒ ">
    <div class="bgwrap" aria-hidden="true">
      <object class="bgdoc" type="application/pdf"
              data="pdfs/home.pdf#view=Fit&toolbar=0&navpanes=0&scrollbar=0">
        <img id="bgImage" class="bgimage" alt="èƒŒæ™¯ç”»åƒ" />
        <picture>
          <img src="images/sizu.png" alt="" id="dogImage">
        </picture>
      </object>
    </div>

    <div class="overlay">
      <div class="top-buttons">
        <a href="dog-select.html">ã„ã¬å¤‰æ›´</a>
        <a href="bg-select.html">èƒŒæ™¯å¤‰æ›´</a>
      </div>
      <div class="home-buttons">
        <button data-goto="walk">ã•ã‚“ã½</button>
        <button data-goto="bath">ãŠãµã‚</button>
        <button data-goto="sleep">ã­ã‚‹</button>
      </div>
    </div>
  </section>

  <!-- ======= ã•ã‚“ã½ ======= -->
  <section class="screen" data-screen="walk" aria-label="ã•ã‚“ã½">
    <div class="bgwrap" aria-hidden="true">
      <object class="bgdoc" type="application/pdf"
              data="pdfs/walk.pdf#view=Fit&toolbar=0&navpanes=0&scrollbar=0">
        <picture><img src="images/walk.png" alt=""></picture>
      </object>
    </div>
    <div class="overlay">
      <div class="home-icon" data-goto="home" aria-label="ãƒ›ãƒ¼ãƒ ã¸">ğŸ </div>
    </div>
  </section>

  <!-- ======= ãŠãµã‚ ======= -->
  <section class="screen" data-screen="bath" aria-label="ãŠãµã‚">
    <div class="bgwrap" aria-hidden="true">
      <object class="bgdoc" type="application/pdf"
              data="pdfs/bath.pdf#view=Fit&toolbar=0&navpanes=0&scrollbar=0">
        <picture><img src="images/bath.png" alt=""></picture>
      </object>
    </div>
    <div class="overlay">
      <div class="home-icon" data-goto="home" aria-label="ãƒ›ãƒ¼ãƒ ã¸">ğŸ </div>
    </div>
  </section>

  <!-- ======= ã­ã‚‹ ======= -->
  <section class="screen" data-screen="sleep" aria-label="ã­ã‚‹">
    <div class="bgwrap" aria-hidden="true">
      <object class="bgdoc" type="application/pdf"
              data="pdfs/sleep.pdf#view=Fit&toolbar=0&navpanes=0&scrollbar=0">
        <picture><img src="images/sleep.png" alt=""></picture>
      </object>
    </div>
    <div class="overlay">
      <div class="home-icon" data-goto="home" aria-label="ãƒ›ãƒ¼ãƒ ã¸">ğŸ </div>
    </div>
  </section>

</main>

<script>
  // çŠ¬ã®ç”»åƒè¨­å®š
  const dogImages = {
    sizu: 'images/sizu.png',
    pome: 'images/pome.png',
    shiba: 'images/shiba.png',
    hasuki: 'images/hasuki.png',
    pagu: 'images/pagu.png',
    kogi: 'images/kogi.png'
  };

  // URLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‹ã‚‰çŠ¬ã‚’å–å¾—
  const params = new URLSearchParams(window.location.search);
  const selectedDog = params.get('dog') || 'sizu';

  // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã«ç”»åƒã‚’è¨­å®š
  // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã«ç”»åƒã‚’è¨­å®š
  window.addEventListener('load', () => {
    const dogImg = document.getElementById('dogImage');
    if(dogImg && dogImages[selectedDog]) {
      dogImg.src = dogImages[selectedDog];
    }

    // çŠ¬ã®ç”»åƒã‚¿ãƒƒãƒã‚¨ãƒ•ã‚§ã‚¯ãƒˆ
    dogImg.addEventListener('click', (e) => {
      const particles = ['â¤ï¸', 'â­', 'âœ¨', 'ğŸµ', 'ğŸ’•', 'ğŸŒŸ'];
      const particle = particles[Math.floor(Math.random() * particles.length)];
      
      const el = document.createElement('div');
      el.className = 'particle';
      el.textContent = particle;
      el.style.left = e.clientX + 'px';
      el.style.top = e.clientY + 'px';
      
      document.body.appendChild(el);
      
      setTimeout(() => el.remove(), 1500);
    });
  });

  // ç”»é¢åˆ‡æ›¿ï¼ˆPDFã¯ä¸‹å±¤ã€ãƒœã‚¿ãƒ³ã¯ä¸Šå±¤ï¼‰
  const app = document.getElementById('app');
  function show(name){
    document.querySelectorAll('.screen').forEach(sc=>{
      sc.classList.toggle('active', sc.dataset.screen===name);
    });
  }
  app.addEventListener('click', e=>{
    const trg = e.target.closest('[data-goto]');
    if(!trg) return;
    show(trg.getAttribute('data-goto'));
  });
</script>
</body>
</html>
